# 导入数据
## 1. django shell 导入数据
### 1.1 单个进行插入数据 -- 运行 `python manage.py shell` 进入django环境
- 假设我们需要在讲师表中插入一条数据
- 导入我们的模型类 `Teacher`

[![20230818113227.png](https://i.postimg.cc/8kX6mQbP/20230818113227.png)](https://postimg.cc/RqfhvY8j)

但是这种只能进行一个一个导入

### 1.2 批量导入数据 -- 通过脚本来实现
在根目录下创建一个文件为`orm_data.py`写相关脚本进行批量导入数据

### 1.3 fixtures 导入数据
fixtures 可以提供一个被Django serialization 识别序列化文件 被转换成 model 然后保存到数据库

1. 导出数据
  `python manage.py dumpdata > imooc.json` 导出数据到imooc.json文件中
2. 导入数据
  使用指令 `python manage.py loaddata imooc.json`
    > 如歌报错 `UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte`
    > 解决方式 
    > 1. 另存为UTF-8 编码
    > 2. 指定文件编码：在运行 loaddata 命令时，可以尝试通过指定文件编码来解决问题。使用 --encoding 参数可以告诉 Django 数据文件的实际编码。例如：
    ```python
    python manage.py loaddata --encoding=utf-8 <your_data_file>
    ```

### 1.4 通过数据库层面
- 导入
  - 可以通过pycharm或者是Navicat等数据工具来导出
  - 数据库层面导出数据
   > mysqldump/mysqldump.exe -hPup 数据库名字 [数据表名字1 [数据库名字2...]] > 外部文件目录(建议使用 .sql)

- 导出
   > windows 系统下的mysql 客户端 
   > mysql.exe/mysql -hPup 数据库名字  < 备份文件目录
   > source 备份文件所在路径